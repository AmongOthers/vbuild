
<script src="https://cdn.jsdelivr.net/npm/vue/dist/vue.js"></script>
<style>*[data-comp] { background: #FFE; border: 1px solid black; margin: 12px; padding: 12px; }

*[data-mother] { border: 2px solid green; margin: 12px; padding: 12px; }</style>
<script type="text/x-template" id="tpl-comp"><div data-comp>
        {{name}} ({{originalName}})
        <button @click="inc(3)">+3</button>
        <button @click="inc()">+1</button>
        {{cpt}} : {{ccpt}} {{wcpt}}
    </div></script>
<script type="text/x-template" id="tpl-mother"><div data-mother>
        {{id}} <button @click="change()"><- change</button>
        <comp :name="id"></comp>
        <comp name="n2"></comp>
        <comp></comp>
    </div></script>
<script>var $jscomp=$jscomp||{};$jscomp.scope={};$jscomp.ASSUME_ES5=!1;$jscomp.ASSUME_NO_NATIVE_MAP=!1;$jscomp.ASSUME_NO_NATIVE_SET=!1;$jscomp.defineProperty=$jscomp.ASSUME_ES5||"function"==typeof Object.defineProperties?Object.defineProperty:function(a,b,d){a!=Array.prototype&&a!=Object.prototype&&(a[b]=d.value)};$jscomp.getGlobal=function(a){return"undefined"!=typeof window&&window===a?a:"undefined"!=typeof global&&null!=global?global:a};$jscomp.global=$jscomp.getGlobal(this);$jscomp.SYMBOL_PREFIX="jscomp_symbol_";
$jscomp.initSymbol=function(){$jscomp.initSymbol=function(){};$jscomp.global.Symbol||($jscomp.global.Symbol=$jscomp.Symbol)};$jscomp.Symbol=function(){var a=0;return function(b){return $jscomp.SYMBOL_PREFIX+(b||"")+a++}}();
$jscomp.initSymbolIterator=function(){$jscomp.initSymbol();var a=$jscomp.global.Symbol.iterator;a||(a=$jscomp.global.Symbol.iterator=$jscomp.global.Symbol("iterator"));"function"!=typeof Array.prototype[a]&&$jscomp.defineProperty(Array.prototype,a,{configurable:!0,writable:!0,value:function(){return $jscomp.arrayIterator(this)}});$jscomp.initSymbolIterator=function(){}};$jscomp.arrayIterator=function(a){var b=0;return $jscomp.iteratorPrototype(function(){return b<a.length?{done:!1,value:a[b++]}:{done:!0}})};
$jscomp.iteratorPrototype=function(a){$jscomp.initSymbolIterator();a={next:a};a[$jscomp.global.Symbol.iterator]=function(){return this};return a};$jscomp.makeIterator=function(a){$jscomp.initSymbolIterator();var b=a[Symbol.iterator];return b?b.call(a):$jscomp.arrayIterator(a)};$jscomp.arrayFromIterator=function(a){for(var b,d=[];!(b=a.next()).done;)d.push(b.value);return d};$jscomp.arrayFromIterable=function(a){return a instanceof Array?a:$jscomp.arrayFromIterator($jscomp.makeIterator(a))};
$jscomp.checkStringArgs=function(a,b,d){if(null==a)throw new TypeError("The 'this' value for String.prototype."+d+" must not be null or undefined");if(b instanceof RegExp)throw new TypeError("First argument to String.prototype."+d+" must not be a regular expression");return a+""};
$jscomp.polyfill=function(a,b,d,c){if(b){d=$jscomp.global;a=a.split(".");for(c=0;c<a.length-1;c++){var p=a[c];p in d||(d[p]={});d=d[p]}a=a[a.length-1];c=d[a];b=b(c);b!=c&&null!=b&&$jscomp.defineProperty(d,a,{configurable:!0,writable:!0,value:b})}};
$jscomp.polyfill("String.prototype.repeat",function(a){return a?a:function(a){var b=$jscomp.checkStringArgs(this,null,"repeat");if(0>a||1342177279<a)throw new RangeError("Invalid count value");a|=0;for(var c="";a;)if(a&1&&(c+=b),a>>>=1)b+=b;return c}},"es6","es3");
var comp=function(){var a=function(a,l){if(1===("number"===typeof a)+("number"===typeof l)){if(a.constructor===String)return d.call(a,l);if(l.constructor===String)return d.call(l,a);if(Array.isArray(l)){var b=a;a=l;l=b}if(Array.isArray(a)){b=[];for(var p=0;p<l;p++)b=b.concat(a);return b}}return a*l},b=function(){if(this.constructor!==String)return this.format.apply(this,arguments);for(var a=[],b=0,c,d,r=-1;b<this.length;){c=this.indexOf("{",b);if(0>c||c==this.length-1)break;if("{"==this[c+1])a.push(this.slice(b,
c+1)),b=c+2;else{d=this.indexOf("}",c);if(0>d)break;r+=1;var k=this.slice(c+1,d),f=k.split(":")[0].split("!")[0];f=f?Number(f):r;f=arguments[f];var e=k;e=e.toLowerCase();var g=String(f);if(0<=e.indexOf("!r")){try{g=JSON.stringify(f)}catch(t){g=void 0}"undefined"===typeof g&&(g=f._IS_COMPONENT?f.id:String(f))}var h="";if("i"==e.slice(-1)||"f"==e.slice(-1)||"e"==e.slice(-1)||"g"==e.slice(-1))h=e[e.length-1],e=e.slice(0,e.length-1);var m=e.indexOf(":"),q=e.indexOf("."),n=k="";0<=m&&(q>m?(k=e.slice(m+
1,q),n=e.slice(q+1)):k=e.slice(m+1));if(""!=h)if("i"==h)g=parseInt(f).toFixed(0);else if("f"==h)f=parseFloat(f),g=f.toFixed(n?Number(n):6);else if("e"==h)f=parseFloat(f),h=(n?Number(n):6)||1,g=f.toExponential(h);else if("g"==h){f=parseFloat(f);h=(n?Number(n):6)||1;g=f.toExponential(h-1);e=g.slice(0,g.indexOf("e"));g=g.slice(g.indexOf("e"));3==g.length&&(g="e"+g[1]+"0"+g[2]);m=Number(g.slice(1));-4<=m&&m<h&&(e=f.toPrecision(h),g="");for(h=e.length-1;0<h&&"0"==e[h];)--h;e=e.slice(0,h+1);"."==e.slice(-1)&&
(e=e.slice(0,e.length-1));g=e+g}e="";k&&("+"==k[0]&&0<f?(e="+",k=k.slice(1)):" "==k[0]&&0<f&&(e=" ",k=k.slice(1)));k&&"0"==k[0]&&(f=Number(k.slice(1))-(g.length+e.length),g="0".repeat(Math.max(0,f))+g);f=e+g;a.push(this.slice(b,c),f);b=d+1}}a.push(this.slice(b));return a.join("")},d=function(a){if(this.repeat)return this.repeat(a);if(1>a)return"";for(var b="",c=this.valueOf();1<a;)a&1&&(b+=c),a>>=1,c+=c;return b+c};var c=function(){var a=arguments;if("undefined"===typeof this||"undefined"!==typeof window&&
window===this||"undefined"!==typeof global&&global===this)throw"Class constructor is called as a function.";for(var b in this)void 0!==Object[b]||"function"!==typeof this[b]||this[b].nobind||(this[b]=this[b].bind(this),this[b].__name__=b);this.__init__&&this.__init__.apply(this,a)};c.prototype._base_class=Object;c.prototype.__name__="C";c.prototype.__init__=function(a){a=void 0===a?"?":a;console.log("DATA INIT "+a);this.cpt=0;this.wcpt="";this.originalName=a;return null};c.prototype.inc=function(a){a=
void 0===a?1:a;console.log(b.call("inc({})",a)+" "+this.name);var c=this.cpt;c=Array.isArray(c)&&Array.isArray(a)?c.concat(a):c+a;this.cpt=c;return null};c.prototype.CREATED=function(){console.log("CREATED "+this.name);return null};c.prototype.MOUNTED=function(){console.log("mounted "+this.name+" in "+this.$parent.$options.name);return null};c.prototype.COMPUTED_ccpt=function(){console.log("COMPUTE "+this.name+" "+this.cpt+" changed");return a(this.cpt,"#")};c.prototype.WATCH_1=function(b,c,d){console.log("WATCH "+
this.name+" "+(void 0===d?"cpt":d)+" "+c+" --\x3e "+b);this.wcpt=a(this.cpt,"+");return null};c.prototype.WATCH_2=function(a,b,c){console.log("WATCH "+(void 0===c?"name":c)+" "+b+" --\x3e "+a);return null};return Vue.component("comp",{name:"comp",props:["name"],template:"#tpl-comp",data:function(){for(var a=[],b=$jscomp.makeIterator(["name"]),d=b.next();!d.done;d=b.next())a.push(this.$props[d.value]);a=new (Function.prototype.bind.apply(c,[null].concat($jscomp.arrayFromIterable(a))));return JSON.parse(JSON.stringify(a))},
computed:{ccpt:c.prototype.COMPUTED_ccpt},methods:{inc:c.prototype.inc},watch:{cpt:c.prototype.WATCH_1,name:c.prototype.WATCH_2},created:c.prototype.CREATED,mounted:c.prototype.MOUNTED})}(),mother=function(){var a=function(){var a=arguments;if("undefined"===typeof this||"undefined"!==typeof window&&window===this||"undefined"!==typeof global&&global===this)throw"Class constructor is called as a function.";for(var d in this)void 0!==Object[d]||"function"!==typeof this[d]||this[d].nobind||(this[d]=this[d].bind(this),
this[d].__name__=d);this.__init__&&this.__init__.apply(this,a)};a.prototype._base_class=Object;a.prototype.__name__="C";a.prototype.__init__=function(){this.id="n";return null};a.prototype.change=function(){var a=this.id;a=Array.isArray(a)&&Array.isArray("x")?a.concat("x"):a+"x";this.id=a;return null};return Vue.component("mother",{name:"mother",props:[],template:"#tpl-mother",data:function(){for(var b=[],d=$jscomp.makeIterator([]),c=d.next();!c.done;c=d.next())b.push(this.$props[c.value]);b=new (Function.prototype.bind.apply(a,
[null].concat($jscomp.arrayFromIterable(b))));return JSON.parse(JSON.stringify(b))},computed:{},methods:{change:a.prototype.change},watch:{}})}();
</script>
<div id="app">
    <mother/>
</div>
<script>new Vue({el:"#app"})</script>    
